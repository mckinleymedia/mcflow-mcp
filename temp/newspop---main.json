{
  "createdAt": "2025-09-20T20:22:05.606Z",
  "updatedAt": "2025-09-20T20:22:09.576Z",
  "id": "newspop-main",
  "name": "Newspop - Main",
  "active": false,
  "isArchived": false,
  "nodes": [
    {
      "id": "schedule_trigger",
      "name": "‚è∞ Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [
        560,
        280
      ],
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "hours",
              "hoursInterval": 6
            }
          ]
        }
      }
    },
    {
      "id": "manual_trigger",
      "name": "üëÜ Manual Trigger",
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        560,
        480
      ],
      "parameters": {}
    },
    {
      "id": "webhook_trigger",
      "name": "üîó Webhook Trigger",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [
        560,
        680
      ],
      "parameters": {
        "httpMethod": "POST",
        "path": "newspop-trigger",
        "responseMode": "onReceived",
        "responseData": "allEntries",
        "options": {}
      }
    },
    {
      "id": "sample_article_test",
      "name": "üì∞ Sample Article Test",
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        560,
        880
      ],
      "parameters": {}
    },
    {
      "id": "sample_article_data",
      "name": "Sample Article Data",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        780,
        880
      ],
      "parameters": {
        "jsCode": "// Add a sample article for testing the pipeline\nconst sampleArticle = {\n  title: \"Tech Giant Announces AI-Powered Toaster That Predicts Your Mood\",\n  link: \"https://example.com/ai-toaster-mood\",\n  content: \"In a surprising move that has left both tech enthusiasts and breakfast lovers bewildered, MegaCorp unveiled their latest innovation: an AI-powered toaster that claims to predict users' moods and adjust toast darkness accordingly. The $999 device, dubbed 'ToastMood Pro,' uses advanced facial recognition and machine learning algorithms to determine whether you need 'comfort carbs' (lightly toasted) or 'motivational crunch' (extra crispy). CEO Jane Smith explained that the toaster represents 'the future of emotional breakfast technology' and includes a subscription service for premium mood profiles at $19.99/month. Early reviews have been mixed, with one user reporting their toaster incorrectly diagnosed them with 'Monday syndrome' and burnt their bagel in response.\",\n  contentSnippet: \"MegaCorp's new AI toaster claims to read your mood and adjust toast accordingly for $999 plus subscription.\",\n  pubDate: new Date().toISOString(),\n  isoDate: new Date().toISOString(),\n  source: \"Sample Article\",\n\n  // Pre-analyzed fields for testing\n  score: 9,\n  reasoning: \"Perfect satire of tech industry's tendency to over-engineer simple products with unnecessary AI features\",\n  product_ideas: [\n    \"T-shirt with confused toaster saying 'Reading your emotions...'\",\n    \"Mug with 'My toaster thinks I'm depressed' text\",\n    \"Sticker pack of moody breakfast items\"\n  ],\n  risk_level: \"low\",\n  market_appeal: \"high\",\n  target_audience: \"tech workers, millennials\",\n\n  // Pipeline metadata\n  is_sample: true,\n  sample_type: \"ai_toaster\"\n};\n\nconsole.log('Loading sample article:', sampleArticle.title);\n\nreturn [{\n  json: sampleArticle\n}];"
      }
    },
    {
      "id": "news_collection",
      "name": "News Collection",
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1.1,
      "position": [
        780,
        480
      ],
      "parameters": {
        "workflowId": "news-collection-module"
      }
    },
    {
      "id": "news_analysis",
      "name": "News Analysis",
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1.1,
      "position": [
        980,
        580
      ],
      "parameters": {
        "workflowId": "news-analysis-module"
      }
    },
    {
      "id": "image_generation",
      "name": "Image Generation",
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1.1,
      "position": [
        1180,
        580
      ],
      "parameters": {
        "workflowId": "image-generation-module"
      }
    },
    {
      "id": "review_queue",
      "name": "Review Queue",
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1.1,
      "position": [
        1380,
        580
      ],
      "parameters": {
        "workflowId": "review-queue-module"
      }
    },
    {
      "id": "final_summary",
      "name": "Final Pipeline Summary",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1580,
        580
      ],
      "parameters": {
        "jsCode": "// Create final pipeline summary\nconst items = $input.all();\nconsole.log(`Review Queue completed: ${items.length} items processed`);\n\n// Extract summary if present\nconst summaryItem = items.find(item => item.json.module === 'review_queue');\nlet queueSummary = null;\nif (summaryItem) {\n  queueSummary = summaryItem.json;\n  console.log('Review Queue Summary:', summaryItem.json.summary);\n}\n\n// Create comprehensive pipeline summary\nconst pipelineId = $('Initialize Pipeline').item.json.pipeline_id;\nconst startTime = $('Initialize Pipeline').item.json.started_at;\n\nconst finalSummary = {\n  pipeline_id: pipelineId,\n  pipeline_name: 'Newspop - Master Pipeline',\n  started_at: startTime,\n  completed_at: new Date().toISOString(),\n  status: 'completed',\n  \n  // Final results\n  items_queued: queueSummary ? queueSummary.queued_count : 0,\n  avg_score: queueSummary ? queueSummary.avg_combined_score : 0,\n  \n  // Stage summaries\n  stages: {\n    news_collection: 'completed',\n    news_analysis: 'completed', \n    image_generation: 'completed',\n    review_queue: 'completed'\n  },\n  \n  message: queueSummary ? \n    `Pipeline completed successfully: ${queueSummary.queued_count} items added to review queue` :\n    'Pipeline completed with no items queued'\n};\n\nconsole.log('üéØ MASTER PIPELINE COMPLETE:', JSON.stringify(finalSummary, null, 2));\nreturn finalSummary;"
      }
    }
  ],
  "connections": {
    "‚è∞ Schedule Trigger": {
      "main": [
        [
          {
            "node": "News Collection",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "üëÜ Manual Trigger": {
      "main": [
        [
          {
            "node": "News Collection",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "üîó Webhook Trigger": {
      "main": [
        [
          {
            "node": "News Collection",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "üì∞ Sample Article Test": {
      "main": [
        [
          {
            "node": "Sample Article Data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Sample Article Data": {
      "main": [
        [
          {
            "node": "News Analysis",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "News Collection": {
      "main": [
        [
          {
            "node": "News Analysis",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "News Analysis": {
      "main": [
        [
          {
            "node": "Image Generation",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Image Generation": {
      "main": [
        [
          {
            "node": "Review Queue",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Review Queue": {
      "main": [
        [
          {
            "node": "Final Pipeline Summary",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "newspop-main"
  },
  "pinData": {},
  "versionId": "newspop-main",
  "triggerCount": 0,
  "tags": [],
  "shared": [
    {
      "createdAt": "2025-08-31T23:30:09.251Z",
      "updatedAt": "2025-08-31T23:30:09.251Z",
      "role": "workflow:owner",
      "workflowId": "newspop-main",
      "projectId": "YRQaX7MJAUKuOvsl",
      "project": {
        "createdAt": "2025-08-05T17:29:35.984Z",
        "updatedAt": "2025-08-31T23:52:02.359Z",
        "id": "YRQaX7MJAUKuOvsl",
        "name": "Will McKinley <will@mckinleymedia.com>",
        "type": "personal",
        "icon": null,
        "description": null
      }
    }
  ]
}